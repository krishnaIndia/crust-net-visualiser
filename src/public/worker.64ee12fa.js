parcelRequire=function(e,r,n,t){function i(n,t){function o(e){return i(o.resolve(e))}function c(r){return e[n][1][r]||r}if(!r[n]){if(!e[n]){var l="function"==typeof parcelRequire&&parcelRequire;if(!t&&l)return l(n,!0);if(u)return u(n,!0);if(f&&"string"==typeof n)return f(n);var p=new Error("Cannot find module '"+n+"'");throw p.code="MODULE_NOT_FOUND",p}o.resolve=c;var a=r[n]=new i.Module(n);e[n][0].call(a.exports,o,a,a.exports,this)}return r[n].exports}function o(e){this.id=e,this.bundle=i,this.exports={}}var u="function"==typeof parcelRequire&&parcelRequire,f="function"==typeof require&&require;i.isParcelRequire=!0,i.Module=o,i.modules=e,i.cache=r,i.parent=u;for(var c=0;c<n.length;c++)i(n[c]);if(n.length){var l=i(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):t&&(this[t]=l)}return i}({662:[function(require,module,exports) {
"use strict";function e(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}function n(n){function r(e,n,r,t){function o(n){"function"!=typeof self.postMessage?e.ports[0].postMessage(n):self.postMessage(n)}r?("undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",r),o([n,{message:r.message}])):o([n,null,t])}self.addEventListener("message",function(t){var o=t.data;if(Array.isArray(o)&&2===o.length){var s=o[0],f=o[1];"function"!=typeof n?r(t,s,new Error("Please pass a function into register().")):function(n,t,o,s){var f=function(e,n){try{return{res:e(n)}}catch(e){return{err:e}}}(t,s);f.err?r(n,o,f.err):e(f.res)?f.res.then(function(e){r(n,o,null,e)},function(e){r(n,o,e)}):r(n,o,null,f.res)}(t,n,s,f)}})}module.exports=n;
},{}],443:[function(require,module,exports) {
"use strict";var e=require("promise-worker/register"),r=n(e);function n(e){return e&&e.__esModule?e:{default:e}}var t=function(e){var r,n,t="Any",p="Any",o="Windows",u="MacOS",s="Linux",_=function(e){switch(e.toLowerCase()){case"linux":return s;case"macos":return u;case"windows":return o;default:return e}},c=function(e,r){return e+"("+r+")"},y=function(e){var r={},n={},t=[],p=[],o=[],u=0,s=0,y=0,a=new Date;return e.forEach(function(d,i){d.index=d.hasOwnProperty("index")?d.index:e.length-i,"Succeeded"===d.tcp_hole_punch_result&&u++,"Succeeded"===d.udp_hole_punch_result&&s++,d.is_direct_successful&&y++;var f="Succeeded"===d.udp_hole_punch_result||"Succeeded"===d.tcp_hole_punch_result||d.is_direct_successful;d.isSuccessful=f;var T=c(d.peer_requester.name,d.peer_requester.id),l=c(d.peer_responder.name,d.peer_responder.id);t.includes(T)||t.push(T),t.includes(l)||t.push(l),d.peer_requester.os=_(d.peer_requester.os),d.peer_responder.os=_(d.peer_responder.os),r[d.peer_requester.os]||(r[d.peer_requester.os]=0),r[d.peer_responder.os]||(r[d.peer_responder.os]=0),r[d.peer_requester.os]=r[d.peer_requester.os]+1,r[d.peer_responder.os]=r[d.peer_responder.os]+1,n[d.peer_requester.geo_info.country_name]||(n[d.peer_requester.geo_info.country_name]=0),n[d.peer_responder.geo_info.country_name]||(n[d.peer_responder.geo_info.country_name]=0),n[d.peer_requester.geo_info.country_name]=n[d.peer_requester.geo_info.country_name]+1,n[d.peer_responder.geo_info.country_name]=n[d.peer_responder.geo_info.country_name]+1,a>new Date(d.createdAt)&&(a=new Date(d.createdAt)),(f?p:o).push(d)}),{logs:e,tcpHpCount:u,udpHpCount:s,directCount:y,osCountMap:r,countryCountMap:n,peerIdMap:t,successfulConnections:p,failedConnections:o,dateRange:{from:a,to:new Date}}},a=e.type,d=e.payload;switch(a){case"PREPARE_LOGS":return y(d);case"REVALIDATE":return y((r=d.logs,n=d.filter,r.filter(function(e){var r=c(e.peer_requester.name,e.peer_requester.id),o=c(e.peer_responder.name,e.peer_responder.id);return function(e){var r=!1;return n.NatType1===t&&n.NatType2===t?r=!0:n.NatType1===t&&n.NatType2!==t?r=n.NatType2===e.peer_requester.nat_type||n.NatType2===e.peer_responder.nat_type:n.NatType2===t&&n.NatType1!==t?r=n.NatType1===e.peer_requester.nat_type||n.NatType1===e.peer_responder.nat_type:n.NatType1!==t&&n.NatType2!==t&&(r=e.peer_requester.nat_type===n.NatType1&&e.peer_responder.nat_type===n.NatType2||e.peer_requester.nat_type===n.NatType2&&e.peer_responder.nat_type===n.NatType1),r}(e)&&function(e){var r=!1;return n.OSType1===p&&n.OSType2===p?r=!0:n.OSType1===p&&n.OSType2!==p?r=n.OSType2===e.peer_requester.os||n.OSType2===e.peer_responder.os:n.OSType2===p&&n.OSType1!==p?r=n.OSType1===e.peer_requester.os||n.OSType1===e.peer_responder.os:n.OSType1!==p&&n.OSType2!==p&&(r=e.peer_requester.os===n.OSType1&&e.peer_responder.os===n.OSType2||e.peer_requester.os===n.OSType2&&e.peer_responder.os===n.OSType1),r}(e)&&function(e){var r=p;return n.CountryType1===r&&n.CountryType2===r||(n.CountryType1===r&&n.CountryType2!==r?n.CountryType2===e.peer_requester.geo_info.country_name||n.CountryType2===e.peer_responder.geo_info.country_name:n.CountryType2===r&&n.CountryType1!==r?n.CountryType1===e.peer_requester.geo_info.country_name||n.CountryType1===e.peer_responder.geo_info.country_name:n.CountryType1!==r&&n.CountryType2!==r?e.peer_requester.geo_info.country_name===n.CountryType1&&e.peer_responder.geo_info.country_name===n.CountryType2||e.peer_requester.geo_info.country_name===n.CountryType2&&e.peer_responder.geo_info.country_name===n.CountryType1:void 0)}(e)&&function(e,r,n){return 0===e.length||e.indexOf(r)>-1||e.indexOf(n)>-1}(n.IncludePeerId,r,o)&&!function(e,r,n){return 0!==e.length&&(e.indexOf(r)>-1||e.indexOf(n)>-1)}(n.ExcludePeerId,r,o)})));case"FILTER_PIE_CHART":return function(e,r){var n=0,t=0;return e.filter(function(e){n++;var p=!!r.tcpHp&&"Succeeded"===e.tcp_hole_punch_result,o=!!r.udpHp&&"Succeeded"===e.udp_hole_punch_result,u=!!r.direct&&e.is_direct_successful;(p||o||u)&&t++}),{data:{total:n,success:t},filter:r}}(d.logs,d.filter);case"FILTER_NAME":return d.data.filter(function(e){return-1!==e.search(new RegExp(d.search,"i"))});default:return}};(0,r.default)(t);
},{"promise-worker/register":662}]},{},[443], null)
//# sourceMappingURL=worker.64ee12fa.map