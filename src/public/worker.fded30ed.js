parcelRequire=function(e,r,n,t){function i(n,t){function o(e){return i(o.resolve(e))}function c(r){return e[n][1][r]||r}if(!r[n]){if(!e[n]){var l="function"==typeof parcelRequire&&parcelRequire;if(!t&&l)return l(n,!0);if(u)return u(n,!0);if(f&&"string"==typeof n)return f(n);var p=new Error("Cannot find module '"+n+"'");throw p.code="MODULE_NOT_FOUND",p}o.resolve=c;var a=r[n]=new i.Module(n);e[n][0].call(a.exports,o,a,a.exports,this)}return r[n].exports}function o(e){this.id=e,this.bundle=i,this.exports={}}var u="function"==typeof parcelRequire&&parcelRequire,f="function"==typeof require&&require;i.isParcelRequire=!0,i.Module=o,i.modules=e,i.cache=r,i.parent=u;for(var c=0;c<n.length;c++)i(n[c]);if(n.length){var l=i(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):t&&(this[t]=l)}return i}({424:[function(require,module,exports) {
"use strict";function e(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}function n(n){function r(e,n,r,t){function o(n){"function"!=typeof self.postMessage?e.ports[0].postMessage(n):self.postMessage(n)}r?("undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",r),o([n,{message:r.message}])):o([n,null,t])}self.addEventListener("message",function(t){var o=t.data;if(Array.isArray(o)&&2===o.length){var s=o[0],f=o[1];"function"!=typeof n?r(t,s,new Error("Please pass a function into register().")):function(n,t,o,s){var f=function(e,n){try{return{res:e(n)}}catch(e){return{err:e}}}(t,s);f.err?r(n,o,f.err):e(f.res)?f.res.then(function(e){r(n,o,null,e)},function(e){r(n,o,e)}):r(n,o,null,f.res)}(t,n,s,f)}})}module.exports=n;
},{}],348:[function(require,module,exports) {
"use strict";var e=require("promise-worker/register"),r=n(e);function n(e){return e&&e.__esModule?e:{default:e}}var t=function(e){var r,n,t,o,p,u,s,_,c,y,a,d,i="Any",f="Any",l="Windows",T="MacOS",C="Linux",h=function(e){switch(e.toLowerCase()){case"linux":return C;case"macos":return T;case"windows":return l;default:return e}},S=function(e,r){return e+"("+r+")"},g=e.type,q=e.payload;switch(g){case"PREPARE_LOGS":case"REVALIDATE":return r=q.logs,n=q.filter,t={},o={},p=[],u=[],s=[],_=0,c=0,y=0,a=new Date,d={logs:[],tcpHpCount:0,udpHpCount:0,directCount:0,successfulConnections:[],failedConnections:[]},r.forEach(function(e,l){e.index=e.hasOwnProperty("index")?e.index:r.length-l;var T=S(e.peer_requester.name,e.peer_requester.id),C=S(e.peer_responder.name,e.peer_responder.id),g=function(e,r){var n=!1;return r.NatType1===i&&r.NatType2===i?n=!0:r.NatType1===i&&r.NatType2!==i?n=r.NatType2===e.peer_requester.nat_type||r.NatType2===e.peer_responder.nat_type:r.NatType2===i&&r.NatType1!==i?n=r.NatType1===e.peer_requester.nat_type||r.NatType1===e.peer_responder.nat_type:r.NatType1!==i&&r.NatType2!==i&&(n=e.peer_requester.nat_type===r.NatType1&&e.peer_responder.nat_type===r.NatType2||e.peer_requester.nat_type===r.NatType2&&e.peer_responder.nat_type===r.NatType1),n}(e,n)&&function(e,r){var n=!1;return r.OSType1===f&&r.OSType2===f?n=!0:r.OSType1===f&&r.OSType2!==f?n=r.OSType2===e.peer_requester.os||r.OSType2===e.peer_responder.os:r.OSType2===f&&r.OSType1!==f?n=r.OSType1===e.peer_requester.os||r.OSType1===e.peer_responder.os:r.OSType1!==f&&r.OSType2!==f&&(n=e.peer_requester.os===r.OSType1&&e.peer_responder.os===r.OSType2||e.peer_requester.os===r.OSType2&&e.peer_responder.os===r.OSType1),n}(e,n)&&function(e,r){var n=f;return r.CountryType1===n&&r.CountryType2===n||(r.CountryType1===n&&r.CountryType2!==n?r.CountryType2===e.peer_requester.geo_info.country_name||r.CountryType2===e.peer_responder.geo_info.country_name:r.CountryType2===n&&r.CountryType1!==n?r.CountryType1===e.peer_requester.geo_info.country_name||r.CountryType1===e.peer_responder.geo_info.country_name:r.CountryType1!==n&&r.CountryType2!==n?e.peer_requester.geo_info.country_name===r.CountryType1&&e.peer_responder.geo_info.country_name===r.CountryType2||e.peer_requester.geo_info.country_name===r.CountryType2&&e.peer_responder.geo_info.country_name===r.CountryType1:void 0)}(e,n)&&function(e,r,n){return 0===e.length||e.indexOf(r)>-1||e.indexOf(n)>-1}(n.IncludePeerId,T,C)&&!function(e,r,n){return 0!==e.length&&(e.indexOf(r)>-1||e.indexOf(n)>-1)}(n.ExcludePeerId,T,C);"Succeeded"===e.tcp_hole_punch_result&&_++,"Succeeded"===e.udp_hole_punch_result&&c++,e.is_direct_successful&&y++;var q="Succeeded"===e.udp_hole_punch_result||"Succeeded"===e.tcp_hole_punch_result||e.is_direct_successful;e.isSuccessful=q,g&&("Succeeded"===e.tcp_hole_punch_result&&d.tcpHpCount++,"Succeeded"===e.udp_hole_punch_result&&d.udpHpCount++,e.is_direct_successful&&d.directCount++,(e.isSuccessful?d.successfulConnections:d.failedConnections).push(e),d.logs.push(e),p.includes(T)||p.push(T),p.includes(C)||p.push(C)),e.peer_requester.os=h(e.peer_requester.os),e.peer_responder.os=h(e.peer_responder.os),t[e.peer_requester.os]||(t[e.peer_requester.os]=0),t[e.peer_responder.os]||(t[e.peer_responder.os]=0),t[e.peer_requester.os]=t[e.peer_requester.os]+1,t[e.peer_responder.os]=t[e.peer_responder.os]+1,o[e.peer_requester.geo_info.country_name]||(o[e.peer_requester.geo_info.country_name]=0),o[e.peer_responder.geo_info.country_name]||(o[e.peer_responder.geo_info.country_name]=0),o[e.peer_requester.geo_info.country_name]=o[e.peer_requester.geo_info.country_name]+1,o[e.peer_responder.geo_info.country_name]=o[e.peer_responder.geo_info.country_name]+1,a>new Date(e.createdAt)&&(a=new Date(e.createdAt)),(q?u:s).push(e)}),{logs:r,tcpHpCount:_,udpHpCount:c,directCount:y,osCount:t,countriesCount:o,peerIds:p,successfulConnections:u,failedConnections:s,dateRange:{from:a,to:new Date},activityTab:d};case"FILTER_PIE_CHART":return function(e,r){var n=0,t=0;return e.filter(function(e){n++;var o=!!r.tcpHp&&"Succeeded"===e.tcp_hole_punch_result,p=!!r.udpHp&&"Succeeded"===e.udp_hole_punch_result,u=!!r.direct&&e.is_direct_successful;(o||p||u)&&t++}),{data:{total:n,success:t},filter:r}}(q.logs,q.filter);case"FILTER_NAME":return q.data.filter(function(e){return-1!==e.search(new RegExp(q.search,"i"))});default:return}};(0,r.default)(t);
},{"promise-worker/register":424}]},{},[348], null)
//# sourceMappingURL=worker.fded30ed.map